export const description =
  'On this page, we’ll dive into the different call endpoints you can use to manage calls programmatically.'

# Calls

Calls are an essential part of WhatsApp — refers to the ability to make voice calls to other users who are also using the WhatsApp application. {{ className: 'lead' }}

## The call model

The call model contains all the information about the calls between caller ID, receiver ID, start time, end time, and duration.

### Properties

<Properties>
  <Property name="_id" type="string">
    Unique identifier for the call.
  </Property>
  <Property name="caller" type="object">
    The user object for the user who calls .
  </Property>
  <Property name="receiver" type="object">
    The user object for the user who receive the call.
  </Property>
  <Property name="start" type="timestamp">
    Start call timestamp
  </Property>
  <Property name="end" type="timestamp">
    End call timestamp
  </Property>
  <Property name="duration" type="timestamp">
    Duration call timestamp
  </Property>
</Properties>

---

## List all calls {{ tag: 'GET', label: '/calls' }}

<Row>
  <Col>

    This endpoint allows you to retrieve a paginated list of all your calls. By default, a maximum of ten calls are shown per page.

    ### Optional attributes

    <Properties>
      <Property name="limit" type="integer">
        Limit the number of calls returned.
      </Property>
      <Property name="page" type="integer">
        Page of users returned.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/calls">


    ```js
    import ApiClient from '@example/whatsapp-api'

    const client = new ApiClient(token)

    await client.calls.list({ limit: 10, page: 1})
    ```


    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
    "status": "success",
    "results": 10,
    "page": 1,
    "data": [
        {
          "_id": "65260f29be7bb634fdef96eb",
          "caller": {
            "id": "WEPdb29u63dLdR2lxst0eLui",
            "email": "Orie.Rosenbaum63@yahoo.com",
            "password": "vPUd7z2Fgi_2GDA",
            "phone": "8775584276",
            "username": "Clay",
            "photo": "https://loremflickr.com/640/480?lock=3085287343259648"
          },
          "receiver": {
            "id": "9NIXuO0tcsE2qRfXrpWiImR5",
            "email": "Sammy.Kunde71@gmail.com",
            "password": "VxCLrCJj5gio7WA",
            "phone": "16698142669",
            "username": "Melany",
            "photo": "https://loremflickr.com/640/480?lock=1206485268824064"
          },
          "start": 1696986853123,
          "end": 1697039266753,
          "duration": 1697052931764
        },
        {
          "_id": "ab260f29be7bb634fdef9612"
          // ...
        }
      ]
    }
    ```

  </Col>
</Row>

---

## Create a call {{ tag: 'POST', label: '/calls' }}

<Row>
  <Col>

    This endpoint allows you to add a new call between you and person.

    ### Required attributes

    <Properties>
      <Property name="caller" type="object">
        The user object for the user who calls .
      </Property>
      <Property name="receiver" type="object">
        The user object for the user who receive the call.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/calls">


    ```js
    import ApiClient from '@example/whatsapp-api'

    const client = new ApiClient(token)

    await client.calls.create({
      "caller": {
        "id": "WEPdb29u63dLdR2lxst0eLui",
        "email": "Orie.Rosenbaum63@yahoo.com",
        "password": "vPUd7z2Fgi_2GDA",
        "phone": "8775584276",
        "username": "Clay",
        "photo": "https://loremflickr.com/640/480?lock=3085287343259648"
      },
      "receiver": {
        "id": "9NIXuO0tcsE2qRfXrpWiImR5",
        "email": "Sammy.Kunde71@gmail.com",
        "password": "VxCLrCJj5gio7WA",
        "phone": "16698142669",
        "username": "Melany",
        "photo": "https://loremflickr.com/640/480?lock=1206485268824064"
      },
    })
    ```


    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "status": "success",
      "data": {
        "_id": "xgQQXg3hrtjh7AvZ",
        "receiver": {
          "id": "9NIXuO0tcsE2qRfXrpWiImR5",
          "email": "Sammy.Kunde71@gmail.com",
          "password": "VxCLrCJj5gio7WA",
          "phone": "16698142669",
          "username": "Melany",
          "photo": "https://loremflickr.com/640/480?lock=1206485268824064"
        },
        "caller": {
          "id": "WEPdb29u63dLdR2lxst0eLui",
          "email": "Orie.Rosenbaum63@yahoo.com",
          "password": "vPUd7z2Fgi_2GDA",
          "phone": "8775584276",
          "username": "Clay",
          "photo": "https://loremflickr.com/640/480?lock=3085287343259648"
        },
        "start": 705103200,
        "end": 705103300,
        "duration": 692233200,
      }
    }
    ```

  </Col>
</Row>

---

## Retrieve a call {{ tag: 'GET', label: '/calls/:id' }}

<Row>
  <Col>

    This endpoint allows you to retrieve a call by providing the call id. Refer to [the list](#the-call-model) at the top of this page to see which properties are included with call objects.

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/calls/xgQQXg3hrtjh7AvZ">


    ```js
    import ApiClient from '@example/whatsapp-api'

    const client = new ApiClient(token)

    await client.calls.get('xgQQXg3hrtjh7AvZ')
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "status": "success",
      "data": {
        "_id": "xgQQXg3hrtjh7AvZ",
        "receiver": {
          "id": "9NIXuO0tcsE2qRfXrpWiImR5",
          "email": "Sammy.Kunde71@gmail.com",
          "password": "VxCLrCJj5gio7WA",
          "phone": "16698142669",
          "username": "Melany",
          "photo": "https://loremflickr.com/640/480?lock=1206485268824064"
        },
        "caller": {
          "id": "WEPdb29u63dLdR2lxst0eLui",
          "email": "Orie.Rosenbaum63@yahoo.com",
          "password": "vPUd7z2Fgi_2GDA",
          "phone": "8775584276",
          "username": "Clay",
          "photo": "https://loremflickr.com/640/480?lock=3085287343259648"
        },
        "start": 705103200,
        "end": 705103300,
        "duration": 692233200,
      }
    }
    ```

  </Col>
</Row>

---

## Delete a call {{ tag: 'DELETE', label: '/calls/:id' }}

<Row>
  <Col>

    This endpoint allows you to delete your calls in WhatsApp.

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="DELETE" label="/calls/xgQQXg3hrtjh7AvZ">
    ```js
    import ApiClient from '@example/whatsapp-api'

    const client = new ApiClient(token)

    await client.calls.delete('xgQQXg3hrtjh7AvZ')
    ```
    </CodeGroup>
    ```json {{ title: 'Response' }}
    // No response
    ```

  </Col>
</Row>
